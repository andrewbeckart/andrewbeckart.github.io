"use strict";var app=angular.module("app",["ngRoute","ngAnimate","ngSanitize","ngCookies","ngMaterial","infinite-scroll","mailchimp","angular-google-analytics"]);app.constant("settings",{site_title:"Andrew Beck",domain:"andrewbeck.ca",tracking_id:"UA-100503519-1",items_json:"data/gallery.json",blog_id:"7572653541928162874",api_key:"AIzaSyByLq_ojcBbhZxRWZss-YsNn4RlllNTegU"});app.config(["AnalyticsProvider","settings",function(n,t){n.setAccount(t.tracking_id)}]);app.config(["$routeProvider","$locationProvider","$provide",function(n,t){n.when("/gallery/:itemCategory",{templateUrl:"partials/list.html",controller:"ListCtrl"}).when("/gallery/:itemCategory/:itemUrl",{templateUrl:"partials/detail.html",controllerAs:"detail",controller:"DetailCtrl"}).when("/about",{title:"About",templateUrl:"partials/about.html",controller:"PageCtrl"}).when("/news",{title:"News",templateUrl:"partials/news.html",controller:"NewsCtrl"}).when("/news/:slug",{title:"News",templateUrl:"partials/post.html",controller:"PostCtrl"}).when("/contact",{title:"Contact",templateUrl:"partials/contact.html",controller:"ContactCtrl"}).otherwise({redirectTo:"/",templateUrl:"partials/home.html",controller:"HomeCtrl"});t.html5Mode(!0)}]);app.directive("navBar",function(){return{templateUrl:"partials/nav.html"}});app.directive("footer",function(){return{template:'<p ng-controller="FooterCtrl" ng-bind-html="footer"><\/p>'}});app.directive("subscribeForm",function(){return{templateUrl:"partials/subscribeform.html"}});app.directive("animateOnLoad",["$animateCss",function(n){return{link:function(t,i){n(i,{event:"enter",structural:!0,from:{opacity:0},to:{opacity:1}}).start()}}}]);app.directive("imgLoaded",[function(){return{restrict:"A",link:function(n,t){var i=t[0].parentNode;t.bind("load",function(){i.className+=i.className?" loaded":"loaded"})}}}]);app.directive("clickOutside",["$window","$parse",function(n,t){return{link:function(i,r,u){var f;if(u.clickOutside){u.ignoreIf&&(f=t(u.ignoreIf));var e=r[0],s=t(u.clickOutside),o=function(n){e===n.target||e.contains(n.target)||f&&f(i)||i.$apply(s)};n.addEventListener("click",o,!0);i.$on("$destroy",function(){n.removeEventListener("click",o)})}}}}]);app.directive("ngSlideshow",["$interval",function(n){return{restrict:"A",scope:{ngSlideshow:"&",interval:"="},template:'<div ng-repeat="img in images" class="slides" ng-class="{ visible: active_image == $index }" ng-style="{ \'background-image\': \'url(\' + img + \')\' }"><\/div>',link:function(t){t.$watch("ngSlideshow",function(n){t.images=n();t.active_image=Math.floor(Math.random()*t.images.length)});var i=n(function(){t.active_image++;t.active_image>=t.images.length&&(t.active_image=0)},t.interval||1e3);t.$on("$destroy",function(){n.cancel(i)})}}}]);app.directive("back",["$window",function(n){return{restrict:"A",link:function(t,i){i.bind("click",function(){n.history.back()})}}}]);app.directive("consent",["$cookies",function(n){return{scope:{},template:'<div ng-hide="consent()" flex layout="row" layout-align="center center"><p flex="100">This website uses cookies to ensure you get the best experience. By continuing to browse this site, you give consent for cookies to be used. <a aria-label="learn more about cookies" role="button" tabindex="0" href="http://cookiesandyou.com" target="_blank">Learn more<\/a><\/p><span flex="none"><md-button aria-label="close" ng-click="consent(true)"><md-icon><svg viewBox="0 0 24 24"><use xlink:href="svg/icons.svg#close" /><\/svg><\/md-icon><\/md-button><\/span><\/div>',controller:["$scope",function(t){var i=n.get("consent");t.consent=function(t){if(t===undefined)return i;t&&(n.put("consent",!0),i=!0)}}]}}]);app.factory("utilities",function(){function n(n){var i={},t=n.split(" ");return t.length==1?(i.first_name=t[0],i.last_name=""):t.length>2?(i.last_name=t.pop(),i.first_name=t.join(" ")):(i.first_name=t[0],i.last_name=t[t.length-1]),i}return{splitName:n}});app.factory("sortData",["$http","settings",function(n,t){var i=[];return{getItems:function(){return n.get(t.items_json).then(function(n){return i=n.data,i.sort(function(n,t){return t.date.localeCompare(n.date)}),{items:i}})},saveItems:function(){}}}]);app.run(function(){});app.run(["$rootScope","$anchorScroll","settings",function(n,t,i){n.page={setTitle:function(n){this.title=n+" | "+i.site_title},setCategory:function(n){this.category=n},setBackground:function(n){this.background=n},setDirection:function(n){this.direction=n},windowHeight:function(n){this.height=n},containerClass:function(n){this.container=n},showSubNav:function(n){this.subNavShow=n}};n.$on("$routeChangeSuccess",function(r,u){n.page.title=u.$$route?u.$$route.title+" | "+i.site_title:i.site_title;n.page.background=u.$$route?"none":"fullscreen";n.page.height=null;n.page.container=null;t()})}]);app.animation(".slide",function(){return{beforeAddClass:function(n,t,i){t==="ng-hide"&&n.slideUp({duration:350},i)},removeClass:function(n,t,i){t==="ng-hide"&&n.hide().slideDown({duration:350},i)}}});app.factory("wp",["$q","$http",function(n,t){var r="https://public-api.wordpress.com/rest/v1.1/sites/andrewbeck.art.blog/",i={};return i.getBlog=function(){return t.get(r)},i.getPost=function(n){return t.get(r+"posts/slug:"+n)},i.getPosts=function(n,i){return t.get(r+"posts/?filter[orderby]=date&order=desc&number="+n+"&page="+i)},i}]);